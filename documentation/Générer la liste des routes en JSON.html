<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>GÃ©nÃ©rer la liste des routes en JSON</title>
    <style>
        :root {
            --primary-color: #1a237e;
            --secondary-color: #0d47a1;
            --accent-color: #2962ff;
            --code-bg: #f5f5f5;
        }
        
        body {
            font-family: system-ui, -apple-system, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }

        h1, h2, h3 {
            color: var(--primary-color);
            margin-top: 2em;
        }
        h4 {
            color: #6d7786;
            margin-top: 2em;
        }

        h1 { border-bottom: 3px solid var(--accent-color); padding-bottom: 10px; }
        
        hassan {
            background: #e7fbec;
            padding: 2px 4px;
            border-radius: 4px;
            font-family: 'Monaco', 'Consolas', monospace;
        }
        pre {
            background: var(--code-bg);
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            border-left: 4px solid #4caf50;
        }

        .note, .warning, .tip {
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
        }

        .note {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
        }

        .warning {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
        }

        .tip {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
        }

        .command {
            background: #212121;
            color: #fff;
            padding: 12px;
            border-radius: 6px;
            margin: 10px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }

        th, td {
            padding: 12px;
            border: 1px solid #ddd;
            text-align: left;
        }

        th {
            background: var(--primary-color);
            color: white;
        }

        .method {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
        }

        .get { background: #4caf50; color: white; }
        .post { background: #2196f3; color: white; }
        .put { background: #ff9800; color: white; }
        .delete { background: #f44336; color: white; }
    </style>
</head>
<body>

    







    <h1>Postman ==>> Tester et dÃ©boguer les API</h1>
<hr />


<p>
    
    <a href="https://support.postman.com/hc/en-us">Documentation officielle â†’</a>
</p>
<hr />

<h3>ðŸŒ± DÃ©finir et identifier les Routes</h3>
<p>
    Dans routes/api.php ==>> Expl
</p>

<pre>use App\Http\Controllers\UserController;

    Route::get('/users', [UserController::class, 'index']);
    Route::post('/users', [UserController::class, 'store']);
    Route::get('/users/{id}', [UserController::class, 'show']);
    Route::put('/users/{id}', [UserController::class, 'update']);
    Route::delete('/users/{id}', [UserController::class, 'destroy']);</pre>
<p>
    ContrÃ´leurs ==>>OK
</p>
 
<hr />
<h2>ðŸ“Œ 1. GÃ©nÃ©rer la liste des routes en JSON</h2>

<p>ðŸ›  ExÃ©cutez la commande 
     pour gÃ©nÃ©rer le JSON contenant toutes vos routes :</p>
<pre>
    php artisan route:list --json > routes.json
</pre>
<p>ðŸ›  Ce fichier routes.json contiendra la liste complÃ¨te des routes avec leurs
     mÃ©thodes HTTP, URI et autres </p>
     <hr />
<h3>ðŸ”§ CrÃ©er le script d'export</h3>
<p>CrÃ©ez un nouveau fichier, par exemple export-postman.php, Ã  la racine  
    (ou dans un dossier dÃ©diÃ©, par exemple scripts/) --- Ã  suprm avant production :</p>
<pre>
   // il y qlq chose Ã  ajouter ici :-)
   
    // export-postman.php
    
    // DÃ©finir l'URL de base sans slash final
    $baseUrl = rtrim("http://localhost:8000", '/');
    
    // Chemin du fichier de routes gÃ©nÃ©rÃ© par Laravel
    $routesFile = __DIR__ . '/routes.json';
    if (!file_exists($routesFile)) {
        die("Le fichier routes.json n'existe pas. Veuillez d'abord gÃ©nÃ©rer la liste des routes avec 'php artisan route:list --json > routes.json'.\n");
    }
    
    // Lire et dÃ©coder le fichier JSON contenant les routes
    $routesData = json_decode(file_get_contents($routesFile), true);
    if (!$routesData) {
        die("Erreur lors de la lecture ou du dÃ©codage de routes.json.\n");
    }
    
    // Initialiser la structure de la collection Postman
    $postmanCollection = [
        "info" => [
            "_postman_id" => uniqid(),
            "name"       => "APP_NS_V1",
            "schema"     => "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
        ],
        "item" => []
    ];
    
    // Regrouper les routes par le premier segment d'URI (exemple : "users", "roles", etc.)
    $groupedRoutes = [];
    foreach ($routesData as $route) {
        // RÃ©cupÃ©rer l'URI et retirer le slash initial s'il existe
        $uri = ltrim($route['uri'] ?? '', '/');
        
        // On ne traite que les routes commenÃ§ant par "api"
        if (strpos($uri, 'api') !== 0) {
            continue;
        }
        
        // Pour le regroupement, supprimer le prÃ©fixe "api/" s'il est prÃ©sent
        $uriForGrouping = $uri;
        if (strpos($uri, 'api/') === 0) {
            $uriForGrouping = substr($uri, strlen('api/'));
        }
        $segments = explode('/', trim($uriForGrouping, '/'));
        $group = $segments[0] ?? 'Autres';
    
        // Construire l'URL complÃ¨te sans double slash
        $requestUrl = $baseUrl . '/' . $uri;
    
        // CrÃ©er la structure de la requÃªte Postman
        $request = [
            "method" => strtoupper($route['method'] ?? 'GET'),
            "header" => [],
            "url"    => [
                "raw"      => $requestUrl,
                "protocol" => "http",
                "host"     => ["localhost"],
                "port"     => "8000",
                "path"     => explode('/', $uri)
            ]
        ];
        
        $item = [
            "name"    => $uri,
            "request" => $request,
            "response"=> []
        ];
        
        // Ajouter la requÃªte dans le groupe correspondant
        $groupedRoutes[$group][] = $item;
    }
    
    // Construire les items de la collection en regroupant par section
    foreach ($groupedRoutes as $groupName => $items) {
        $postmanCollection["item"][] = [
            "name" => ucfirst($groupName),
            "item" => $items
        ];
    }
    
    // Exporter la collection au format JSON dans un fichier
    $outputFile = __DIR__ . '/postman_collection.json';
    file_put_contents($outputFile, json_encode($postmanCollection, JSON_PRETTY_PRINT));
    
    echo "La collection Postman a Ã©tÃ© gÃ©nÃ©rÃ©e avec succÃ¨s dans le fichier : $outputFile\n";
    
    
</pre>


<hr />

<h2>ðŸ“Œ ExÃ©cuter le script </h2>

<pre>php export-postman.php</pre>

<h3>ðŸŒ± Importer dans Postman</h3>
<p>
    mon Postman +++  Import +++ sÃ©lection  fichier postman_collection.json +++ Importer
    === Affichage par dossier ===
</p>

<hr />

<h3>ðŸš€ Master API Testing with Postman! Beginner to Pro in One Course! </h3>


<iframe width="100%" height="800" src="https://www.youtube.com/embed/D97QNY4ydo8?si=1DlFDxJb15TfgLRS" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<hr />

<h3>ðŸŒ± Visualiser et Mettre Ã  jour les Collections </h3>

<h3>ðŸ“Œ ==>> React Front ===>> Axios configuration ==>> CRUD des donnÃ©es via Formulaires</h3>



<h3>ðŸ”¥ Visualisation structure du projet :</h3>
<p>
    
    
</p>
#  // Installation sous mac
<pre>brew install tree</pre>
#  // generation globale
<pre>tree -a > project_structure.txt </pre>
# // Pour limiter la profondeur expl:2
<pre>find . -maxdepth 2 > project_structure.txt </pre>





<h3>ðŸŒ± ppppp</h3>
<p>
    mon blalaba 
</p>

<pre>mon code </pre>
<p>
    mon blalaba 
</p>




</body>
</html>
