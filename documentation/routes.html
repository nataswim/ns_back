

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Documentation API</title>
    <style>
        :root {
            --primary-color: #1a237e;
            --secondary-color: #0d47a1;
            --accent-color: #2962ff;
            --code-bg: #f5f5f5;
        }
        
        body {
            font-family: system-ui, -apple-system, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }

        h1, h2, h3 {
            color: var(--primary-color);
            margin-top: 2em;
        }
        h4 {
            color: #6d7786;
            margin-top: 2em;
        }

        h1 { border-bottom: 3px solid var(--accent-color); padding-bottom: 10px; }
        
        hassan {
            background: #e7fbec;
            padding: 2px 4px;
            border-radius: 4px;
            font-family: 'Monaco', 'Consolas', monospace;
        }
        pre {
            background: var(--code-bg);
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            border-left: 4px solid #4caf50;
        }

        .note, .warning, .tip {
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
        }

        .note {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
        }

        .warning {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
        }

        .tip {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
        }

        .command {
            background: #212121;
            color: #fff;
            padding: 12px;
            border-radius: 6px;
            margin: 10px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }

        th, td {
            padding: 12px;
            border: 1px solid #ddd;
            text-align: left;
        }

        th {
            background: var(--primary-color);
            color: white;
        }

        .method {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
        }

        .get { background: #4caf50; color: white; }
        .post { background: #2196f3; color: white; }
        .put { background: #ff9800; color: white; }
        .delete { background: #f44336; color: white; }
    </style>
</head>
<body>
    <h1>Routes</h1>
<hr />


<h3>ðŸŒ± Routes api.php Version 1</h3>
<p>
.......
</p>

<pre>
    <?php

use Illuminate\Http\Request;
use Illuminate\Support\Facades\Route;
use App\Http\Controllers\Api\RoleController;
use App\Http\Controllers\Api\UserController;
use App\Http\Controllers\Api\UploadController;
use App\Http\Controllers\Api\PageController;
use App\Http\Controllers\Api\ExerciseController;
use App\Http\Controllers\Api\PlanController;
use App\Http\Controllers\Api\WorkoutController;
use App\Http\Controllers\Api\WorkoutExerciseController;
use App\Http\Controllers\Api\MylistController;
use App\Http\Controllers\Api\SwimSetController;
use App\Http\Controllers\Api\MylistItemController;
use App\Http\Controllers\Api\PlanWorkoutController;
use App\Http\Controllers\Api\WorkoutSwimSetController;

/*
|--------------------------------------------------------------------------
| API Routes
|--------------------------------------------------------------------------
|
| ðŸ‡¬ðŸ‡§ Here are the API routes of your application. These routes are
| loaded by the RouteServiceProvider within a "api" middleware group.
| Use this file to define your API routes.
|
| ðŸ‡«ðŸ‡· Voici les routes API de votre application. Ces routes sont
| chargÃ©es par le RouteServiceProvider dans un groupe de middleware "api".
| Utilisez ce fichier pour dÃ©finir vos routes d'API.
|
*/

// ************************************************************************
// ðŸ‡¬ðŸ‡§ User Authentication Route
// ðŸ‡«ðŸ‡· Route pour l'authentification des utilisateurs
// ************************************************************************
Route::middleware('auth:sanctum')->get('/user', function (Request $request) {
    return $request->user();
});

// ************************************************************************
// ðŸ‡¬ðŸ‡§ Routes for Roles (RÃ´les)
// ðŸ‡«ðŸ‡· Routes pour les rÃ´les (Roles)
// ************************************************************************
Route::apiResource('roles', RoleController::class);
Route::get('roles/{role}/users', [UserController::class, 'getUsersByRole']);

// ************************************************************************
// ðŸ‡¬ðŸ‡§ Routes for Users (Utilisateurs)
// ðŸ‡«ðŸ‡· Routes pour les utilisateurs (Users)
// ************************************************************************
Route::apiResource('users', UserController::class);

// ************************************************************************
// ðŸ‡¬ðŸ‡§ Routes for File Uploads (Fichiers UploadÃ©s)
// ðŸ‡«ðŸ‡· Routes pour les fichiers uploadÃ©s (Uploads)
// ************************************************************************
Route::apiResource('uploads', UploadController::class);
Route::get('users/{user}/uploads', [UploadController::class, 'getUserUploads']);

// ************************************************************************
// ðŸ‡¬ðŸ‡§ Routes for Pages (Pages)
// ðŸ‡«ðŸ‡· Routes pour les pages (Pages)
// ************************************************************************
Route::apiResource('pages', PageController::class);

// ************************************************************************
// ðŸ‡¬ðŸ‡§ Routes for Exercises (Exercices)
// ðŸ‡«ðŸ‡· Routes pour les exercices (Exercises)
// ************************************************************************
Route::apiResource('exercises', ExerciseController::class);

// ************************************************************************
// ðŸ‡¬ðŸ‡§ Routes for Plans (Plans)
// ðŸ‡«ðŸ‡· Routes pour les plans (Plans)
// ************************************************************************
Route::apiResource('plans', PlanController::class);
Route::get('plans/{plan}/workouts', [PlanController::class, 'getWorkouts']);
Route::post('plans/{plan}/workouts/{workout}', [PlanController::class, 'addWorkout']);
Route::delete('plans/{plan}/workouts/{workout}', [PlanController::class, 'removeWorkout']);
Route::get('/plans/{plan}/workouts/{workout}', [PlanWorkoutController::class, 'show']);

// ************************************************************************
// ðŸ‡¬ðŸ‡§ Routes for Workouts (SÃ©ances d'entraÃ®nement)
// ðŸ‡«ðŸ‡· Routes pour les sÃ©ances d'entraÃ®nement (Workouts)
// ************************************************************************
Route::apiResource('workouts', WorkoutController::class);
Route::get('workouts/{workout}/exercises', [WorkoutController::class, 'getExercises']);
Route::get('/workouts/{workout}/exercises/{exercise}', [WorkoutExerciseController::class, 'show']);
Route::post('workouts/{workout}/exercises/{exercise}', [WorkoutController::class, 'addExercise']);
Route::delete('workouts/{workout}/exercises/{exercise}', [WorkoutController::class, 'removeExercise']);
Route::get('workouts/{workout}/swim-sets', [WorkoutController::class, 'getSwimSets']);
Route::post('workouts/{workout}/swim-sets/{swimSet}', [WorkoutController::class, 'addSwimSet']);
Route::delete('workouts/{workout}/swim-sets/{swimSet}', [WorkoutController::class, 'removeSwimSet']);
Route::get('/workouts/{workout}/swim-sets', [WorkoutSwimSetController::class, 'index']);

// ************************************************************************
// ðŸ‡¬ðŸ‡§ Routes for Swim Sets (SÃ©ries de natation)
// ðŸ‡«ðŸ‡· Routes pour les sÃ©ries de natation (Swim Sets)
// ************************************************************************
Route::apiResource('swim-sets', SwimSetController::class);

// ************************************************************************
// ðŸ‡¬ðŸ‡§ Routes for Personal Lists (Listes personnelles)
// ðŸ‡«ðŸ‡· Routes pour les listes personnelles (Mylists)
// ************************************************************************
Route::apiResource('mylists', MylistController::class);
Route::get('mylist/{mylist}/items', [MylistItemController::class, 'index']);
Route::post('mylist/{mylist}/items', [MylistItemController::class, 'store']);
Route::delete('mylist/{mylist}/items/{item}', [MylistItemController::class, 'destroy']);



</pre>
<p>
    .......
    </p>
   


    <h3>ðŸŒ± Routes api.php Version 2</h3>

    <p>
        Version optimisÃ©e et cohÃ©rente de toutes les routes API de l'application de natation.
        </p>
<pre>
    <?php

    use Illuminate\Http\Request;
    use Illuminate\Support\Facades\Route;
    use App\Http\Controllers\Api\RoleController;
    use App\Http\Controllers\Api\UserController;
    use App\Http\Controllers\Api\UploadController;
    use App\Http\Controllers\Api\PageController;
    use App\Http\Controllers\Api\ExerciseController;
    use App\Http\Controllers\Api\PlanController;
    use App\Http\Controllers\Api\WorkoutController;
    use App\Http\Controllers\Api\SwimSetController;
    use App\Http\Controllers\Api\MylistController;
    use App\Http\Controllers\Api\MylistItemController;
    use App\Http\Controllers\Api\PlanWorkoutController;
    use App\Http\Controllers\Api\WorkoutExerciseController;
    use App\Http\Controllers\Api\WorkoutSwimSetController;
    
    /*
    |--------------------------------------------------------------------------
    | API Routes
    |--------------------------------------------------------------------------
    |
    | Ces routes sont chargÃ©es par le RouteServiceProvider dans un groupe de 
    | middleware "api". DÃ©finissez vos routes d'API ici pour votre application
    | de natation.
    |
    */
    
    // Authentification utilisateur avec Sanctum
    Route::middleware('auth:sanctum')->group(function () {
        Route::get('/user', function (Request $request) {
            return $request->user();
        });
    });
    
    // Routes pour les rÃ´les
    Route::prefix('roles')->name('roles.')->group(function () {
        Route::get('/', [RoleController::class, 'index'])->name('index');
        Route::post('/', [RoleController::class, 'store'])->name('store');
        Route::get('/{role}', [RoleController::class, 'show'])->name('show');
        Route::put('/{role}', [RoleController::class, 'update'])->name('update');
        Route::delete('/{role}', [RoleController::class, 'destroy'])->name('destroy');
        
        // Relation role-utilisateurs
        Route::get('/{role}/users', [UserController::class, 'getUsersByRole'])->name('users');
    });
    
    // Routes pour les utilisateurs
    Route::prefix('users')->name('users.')->group(function () {
        Route::get('/', [UserController::class, 'index'])->name('index');
        Route::post('/', [UserController::class, 'store'])->name('store');
        Route::get('/{user}', [UserController::class, 'show'])->name('show');
        Route::put('/{user}', [UserController::class, 'update'])->name('update');
        Route::delete('/{user}', [UserController::class, 'destroy'])->name('destroy');
        
        // Relation utilisateur-uploads
        Route::get('/{user}/uploads', [UploadController::class, 'getUserUploads'])->name('uploads');
    });
    
    // Routes pour les fichiers uploadÃ©s
    Route::prefix('uploads')->name('uploads.')->group(function () {
        Route::get('/', [UploadController::class, 'index'])->name('index');
        Route::post('/', [UploadController::class, 'store'])->name('store');
        Route::get('/{upload}', [UploadController::class, 'show'])->name('show');
        Route::put('/{upload}', [UploadController::class, 'update'])->name('update');
        Route::delete('/{upload}', [UploadController::class, 'destroy'])->name('destroy');
    });
    
    // Routes pour les pages
    Route::prefix('pages')->name('pages.')->group(function () {
        Route::get('/', [PageController::class, 'index'])->name('index');
        Route::post('/', [PageController::class, 'store'])->name('store');
        Route::get('/{page}', [PageController::class, 'show'])->name('show');
        Route::put('/{page}', [PageController::class, 'update'])->name('update');
        Route::delete('/{page}', [PageController::class, 'destroy'])->name('destroy');
    });
    
    // Routes pour les exercices
    Route::prefix('exercises')->name('exercises.')->group(function () {
        Route::get('/', [ExerciseController::class, 'index'])->name('index');
        Route::post('/', [ExerciseController::class, 'store'])->name('store');
        Route::get('/{exercise}', [ExerciseController::class, 'show'])->name('show');
        Route::put('/{exercise}', [ExerciseController::class, 'update'])->name('update');
        Route::delete('/{exercise}', [ExerciseController::class, 'destroy'])->name('destroy');
    });
    
    // Routes pour les plans d'entraÃ®nement
    Route::prefix('plans')->name('plans.')->group(function () {
        Route::get('/', [PlanController::class, 'index'])->name('index');
        Route::post('/', [PlanController::class, 'store'])->name('store');
        Route::get('/{plan}', [PlanController::class, 'show'])->name('show');
        Route::put('/{plan}', [PlanController::class, 'update'])->name('update');
        Route::delete('/{plan}', [PlanController::class, 'destroy'])->name('destroy');
        
        // Relation plan-workouts
        Route::prefix('{plan}/workouts')->name('workouts.')->group(function () {
            Route::get('/', [PlanWorkoutController::class, 'index'])->name('index');
            Route::post('/{workout}', [PlanWorkoutController::class, 'store'])->name('store');
            Route::get('/{workout}', [PlanWorkoutController::class, 'show'])->name('show');
            Route::delete('/{workout}', [PlanWorkoutController::class, 'destroy'])->name('destroy');
        });
    });
    
    // Routes pour les sÃ©ances d'entraÃ®nement
    Route::prefix('workouts')->name('workouts.')->group(function () {
        Route::get('/', [WorkoutController::class, 'index'])->name('index');
        Route::post('/', [WorkoutController::class, 'store'])->name('store');
        Route::get('/{workout}', [WorkoutController::class, 'show'])->name('show');
        Route::put('/{workout}', [WorkoutController::class, 'update'])->name('update');
        Route::delete('/{workout}', [WorkoutController::class, 'destroy'])->name('destroy');
        
        // Relation workout-exercises
        Route::prefix('{workout}/exercises')->name('exercises.')->group(function () {
            Route::get('/', [WorkoutExerciseController::class, 'index'])->name('index');
            Route::post('/{exercise}', [WorkoutExerciseController::class, 'store'])->name('store');
            Route::get('/{exercise}', [WorkoutExerciseController::class, 'show'])->name('show');
            Route::delete('/{exercise}', [WorkoutExerciseController::class, 'destroy'])->name('destroy');
        });
        
        // Relation workout-swimsets
        Route::prefix('{workout}/swim-sets')->name('swimsets.')->group(function () {
            Route::get('/', [WorkoutSwimSetController::class, 'index'])->name('index');
            Route::post('/{swimSet}', [WorkoutSwimSetController::class, 'store'])->name('store');
            Route::delete('/{swimSet}', [WorkoutSwimSetController::class, 'destroy'])->name('destroy');
        });
    });
    
    // Routes pour les sÃ©ries de natation
    Route::prefix('swim-sets')->name('swimsets.')->group(function () {
        Route::get('/', [SwimSetController::class, 'index'])->name('index');
        Route::post('/', [SwimSetController::class, 'store'])->name('store');
        Route::get('/{swimSet}', [SwimSetController::class, 'show'])->name('show');
        Route::put('/{swimSet}', [SwimSetController::class, 'update'])->name('update');
        Route::delete('/{swimSet}', [SwimSetController::class, 'destroy'])->name('destroy');
    });
    
    // Routes pour les listes personnelles
    Route::prefix('mylists')->name('mylists.')->group(function () {
        Route::get('/', [MylistController::class, 'index'])->name('index');
        Route::post('/', [MylistController::class, 'store'])->name('store');
        Route::get('/{mylist}', [MylistController::class, 'show'])->name('show');
        Route::put('/{mylist}', [MylistController::class, 'update'])->name('update');
        Route::delete('/{mylist}', [MylistController::class, 'destroy'])->name('destroy');
        
        // Relation mylist-items
        Route::prefix('{mylist}/items')->name('items.')->group(function () {
            Route::get('/', [MylistItemController::class, 'index'])->name('index');
            Route::post('/', [MylistItemController::class, 'store'])->name('store');
            Route::delete('/{mylistItem}', [MylistItemController::class, 'destroy'])->name('destroy');
        });
    });

</pre>

<p>
    .......
</p>

<p>Cette  structure pr&eacute;sente plusieurs am&eacute;liorations:</p>
<ol>
<li>Utilisation de groupes de routes avec pr&eacute;fixes pour une meilleure organisation.</li>
<li>Nommage coh&eacute;rent de toutes les routes pour faciliter la g&eacute;n&eacute;ration d'URLs.</li>
<li>Structuration hi&eacute;rarchique claire des relations entre entit&eacute;s.</li>
<li>Correction des incoh&eacute;rences dans les chemins d'URL (standardisation des pluriels).</li>
<li>&Eacute;limination des duplications de routes pointant vers diff&eacute;rents contr&ocirc;leurs.</li>
<li>Pr&eacute;paration pour l'authentification en pla&ccedil;ant les routes authentifi&eacute;es dans un groupe middleware.</li>
<li>Adaptation aux conventions Laravel 11 pour une meilleure optimisation.</li>
</ol>
<p>Chaque section des routes est organis&eacute;e logiquement et suit la m&ecirc;me structure pour maintenir la coh&eacute;rence, ce qui facilite la maintenance et l'extension du code.</p>

</body>
</html>
